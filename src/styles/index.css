@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-gray-50 text-gray-900 antialiased;
  }

  /* Dark mode support */
  @media (prefers-color-scheme: dark) {
    body {
      @apply bg-gray-900 text-gray-100;
    }
  }
}

@layer components {
  /* Button styles */
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2 rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-primary {
    @apply btn bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500;
  }

  .btn-secondary {
    @apply btn bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500;
  }

  .btn-ghost {
    @apply btn bg-transparent hover:bg-gray-100 focus:ring-gray-500;
  }

  @media (prefers-color-scheme: dark) {
    .btn-secondary {
      @apply bg-gray-700 text-gray-100 hover:bg-gray-600;
    }

    .btn-ghost {
      @apply hover:bg-gray-800;
    }
  }

  /* Input styles */
  .input {
    @apply w-full px-4 py-2 rounded-lg border border-gray-300 bg-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent;
  }

  @media (prefers-color-scheme: dark) {
    .input {
      @apply border-gray-600 bg-gray-800 text-gray-100;
    }
  }

  /* Card styles */
  .card {
    @apply bg-white rounded-lg border border-gray-200 shadow-sm;
  }

  @media (prefers-color-scheme: dark) {
    .card {
      @apply bg-gray-800 border-gray-700;
    }
  }

  /* Leaflet map fixes */
  .leaflet-container {
    @apply rounded-lg;
  }
}

@layer utilities {
  /* Screen reader only - accessible but visually hidden */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  /* Loading spinner animation */
  @keyframes spin-dash {
    0% {
      stroke-dasharray: 1, 150;
      stroke-dashoffset: 0;
    }
    50% {
      stroke-dasharray: 90, 150;
      stroke-dashoffset: -35;
    }
    100% {
      stroke-dasharray: 90, 150;
      stroke-dashoffset: -124;
    }
  }

  .animate-spin-dash {
    animation: spin-dash 1.5s ease-in-out infinite;
  }
}

/* Leaflet marker fix for Vite */
.leaflet-default-icon-path {
  background-image: url('https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png');
}
